{"ast":null,"code":"export const initialState = {\n  basket: [{\n    id: \"3254354345\",\n    title: \"Apple iPad Pro 12.9 inch \",\n    price: 595.99,\n    rating: 4,\n    image: \"https://i.pinimg.com/236x/56/e0/3a/56e03a84c41f2b4d5bdfe67ad56fecc2.jpg\"\n  }, {\n    id: \"3254364345\",\n    title: \"Apple iPad Pro 12.9 inch \",\n    price: 595.99,\n    rating: 4,\n    image: \"https://i.pinimg.com/564x/8e/8e/35/8e8e3546849d11e345a06cff35199878.jpg\"\n  }],\n  user: null\n}; // selector\n\nexport const getBasketTotal = basket => basket === null || basket === void 0 ? void 0 : basket.reduce((amount, item) => item.price + amount, 0); //  data layer as state\n\nconst reducer = (state, action) => {\n  // console.log(action);\n  switch (action.type) {\n    case 'ADD_TO_BASKET':\n      // logic for Add to basket\n      return { ...state,\n        basket: [...state.basket, action.item]\n      };\n\n    case 'REMOVE_FROM_BASKET':\n      // logic for Remove_from_basket\n      let newBasket = [...state.basket];\n      const index = state.basket.findIndex(basketItem => basketItem.id === action.id);\n\n      if (index >= 0) {\n        // index exist , remove it\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(`cant remove product(id:${action.id}) as its not product`);\n      }\n\n      return { ...state,\n        basket: newBasket\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["D:/reactjs/amazone/src/reducer.js"],"names":["initialState","basket","id","title","price","rating","image","user","getBasketTotal","reduce","amount","item","reducer","state","action","type","newBasket","index","findIndex","basketItem","splice","console","warn"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAC;AACtBC,EAAAA,MAAM,EAAC,CACH;AACIC,IAAAA,EAAE,EAAC,YADP;AAEIC,IAAAA,KAAK,EAAC,2BAFV;AAGIC,IAAAA,KAAK,EAAC,MAHV;AAIIC,IAAAA,MAAM,EAAC,CAJX;AAKIC,IAAAA,KAAK,EAAC;AALV,GADG,EASH;AACIJ,IAAAA,EAAE,EAAC,YADP;AAEIC,IAAAA,KAAK,EAAC,2BAFV;AAGIC,IAAAA,KAAK,EAAC,MAHV;AAIIC,IAAAA,MAAM,EAAC,CAJX;AAKIC,IAAAA,KAAK,EAAC;AALV,GATG,CADe;AAmBtBC,EAAAA,IAAI,EAAC;AAnBiB,CAAnB,C,CAsBP;;AACA,OAAO,MAAMC,cAAc,GAAIP,MAAD,IAC9BA,MAD8B,aAC9BA,MAD8B,uBAC9BA,MAAM,CAAEQ,MAAR,CAAe,CAACC,MAAD,EAAUC,IAAV,KAAkBA,IAAI,CAACP,KAAL,GAAaM,MAA9C,EAAqD,CAArD,CADO,C,CAMP;;AACA,MAAME,OAAO,GAAE,CAACC,KAAD,EAAOC,MAAP,KAAiB;AAC5B;AACA,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,eAAL;AACI;AACA,aAAO,EACH,GAAGF,KADA;AAEHZ,QAAAA,MAAM,EAAC,CAAC,GAAGY,KAAK,CAACZ,MAAV,EAAiBa,MAAM,CAACH,IAAxB;AAFJ,OAAP;;AAKJ,SAAK,oBAAL;AACI;AACA,UAAIK,SAAS,GAAC,CAAC,GAAGH,KAAK,CAACZ,MAAV,CAAd;AACA,YAAMgB,KAAK,GAACJ,KAAK,CAACZ,MAAN,CAAaiB,SAAb,CAAyBC,UAAD,IAAgBA,UAAU,CAACjB,EAAX,KAAkBY,MAAM,CAACZ,EAAjE,CAAZ;;AACA,UAAGe,KAAK,IAAG,CAAX,EAAa;AACT;AACAD,QAAAA,SAAS,CAACI,MAAV,CAAiBH,KAAjB,EAAuB,CAAvB;AAEH,OAJD,MAIM;AACFI,QAAAA,OAAO,CAACC,IAAR,CACK,0BAAyBR,MAAM,CAACZ,EAAG,sBADxC;AAGH;;AACD,aAAO,EAAC,GAAGW,KAAJ;AAAUZ,QAAAA,MAAM,EAACe;AAAjB,OAAP;;AAEJ;AACI,aAAOH,KAAP;AAxBR;AA2BH,CA7BD;;AA8BA,eAAeD,OAAf","sourcesContent":["export const initialState={\r\n    basket:[\r\n        {\r\n            id:\"3254354345\",\r\n            title:\"Apple iPad Pro 12.9 inch \",\r\n            price:595.99,\r\n            rating:4,\r\n            image:\"https://i.pinimg.com/236x/56/e0/3a/56e03a84c41f2b4d5bdfe67ad56fecc2.jpg\"\r\n\r\n        },\r\n        {\r\n            id:\"3254364345\",\r\n            title:\"Apple iPad Pro 12.9 inch \",\r\n            price:595.99,\r\n            rating:4,\r\n            image:\"https://i.pinimg.com/564x/8e/8e/35/8e8e3546849d11e345a06cff35199878.jpg\"\r\n\r\n        }\r\n    ],\r\n    user:null,\r\n};\r\n\r\n// selector\r\nexport const getBasketTotal = (basket)=>\r\nbasket?.reduce((amount , item)=> item.price + amount,0);\r\n\r\n\r\n\r\n\r\n//  data layer as state\r\nconst reducer =(state,action)=> {\r\n    // console.log(action);\r\n    switch(action.type){\r\n        case 'ADD_TO_BASKET':\r\n            // logic for Add to basket\r\n            return {\r\n                ...state,\r\n                basket:[...state.basket,action.item],\r\n            };\r\n            \r\n        case 'REMOVE_FROM_BASKET':\r\n            // logic for Remove_from_basket\r\n            let newBasket=[...state.basket];\r\n            const index=state.basket.findIndex( (basketItem) => basketItem.id === action.id);\r\n            if(index >=0){\r\n                // index exist , remove it\r\n                newBasket.splice(index,1);\r\n                \r\n            } else{\r\n                console.warn(\r\n                    `cant remove product(id:${action.id}) as its not product`\r\n                )\r\n            }\r\n            return {...state,basket:newBasket};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n    \r\n}\r\nexport default reducer ;"]},"metadata":{},"sourceType":"module"}